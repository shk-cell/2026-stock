const _0x55feae=_0x90c2;function _0x26c5(){const _0x2f4bad=['value','ë­í‚¹/ë‚´ì—­\x20ë¡œë”©\x20ì‹¤íŒ¨:','ì¢…ëª©ì„\x20ì°¾ì„\x20ìˆ˜\x20ì—†ìŠµë‹ˆë‹¤.','ğŸ”´\x20ë§¤ìˆ˜','qPriceText','>ë§¤ë„</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','stock-62c76.firebaseapp.com','KRW','add','buyBtn','map','2072289TMrmVL','data','ğŸ”µ\x20ë§¤ë„','nickname','ë¡œê·¸ì¸\x20ì‹¤íŒ¨:\x20ê³„ì •\x20ì •ë³´ë¥¼\x20í™•ì¸í•˜ì„¸ìš”.','globalRefreshBtn','</span>\x20|\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22font-weight:bold;\x22>í˜„ì¬\x20','ì‹œì„¸\x20í˜¸ì¶œ\x20ì‹¤íŒ¨','ë°ì´í„°\x20ê°±ì‹ \x20ì¤‘\x20ì¹˜ëª…ì \x20ì˜¤ë¥˜:','6454JTLyAj','loginBtn',')\x22\x20class=\x22btn\x20btn-trade\x20btn-sell\x20btn-action\x22\x20style=\x22height:36px;\x20font-size:13px;\x22\x20','qOutBox','userNickname','html',')</span></div>','totalAssetsText','getIdToken','docs','ì£¼)</b></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:11.5px;\x20white-space:nowrap;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22color:#888;\x22>ë§¤ìˆ˜\x20','qBtn','\x27,\x20','innerHTML','email','ì‹œì„¸\x20ê°±ì‹ \x20í•„ìš”','transactionList','type','rankingList','users','(í˜„ì¬\x20í™˜ìœ¨:\x20','149071161310','?symbol=','</span>\x20|\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22color:','ë¯¸ê¸°ë¡','now','split','classList','66JJqhTk',']\x20ë§¤ìˆ˜\x20ìˆ˜ëŸ‰:','stringify','</b></div>','https://asia-northeast3-stock-62c76.cloudfunctions.net/quote','history','currency','disabled','ë§¤ìˆ˜\x20ì™„ë£Œ!','logoutBtn','currentUser','Bearer\x20','ì‹ ê·œ\x20ê³„ì •\x20ì´ˆê¸°\x20ìê¸ˆ\x20$70,000ê°€\x20ì§€ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤.','?symbol=USDKRW=X','5030296UhXFYY','symbol','</span><span>','currentRateText','https://asia-northeast3-stock-62c76.cloudfunctions.net/tradeStock','ë§¤ìˆ˜\x20ì‹¤íŒ¨','desc','</span><b>','portfolioList','dashView','59qlfODj','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.sellStock(\x27','qSymbolText','stock-62c76','var(--up)','error','all','.KQ',';\x20font-weight:bold;\x22>','ê¸°ë¡ì—†ìŒ','portfolio','ë³´ìœ \x20ì£¼ì‹ì´\x20ì—†ìŠµë‹ˆë‹¤.','toLocaleString','stock-62c76.firebasestorage.app','trim','success','totalAsset','includes','223515dBEArf','BUY','timestamp','cash','price','7966224rydtbk','ê±°ë˜\x20ê°€ëŠ¥:\x20','ë‚´ì—­\x20ì—†ìŒ','ë§¤ë„\x20ì™„ë£Œ!','ë¡œë”©ì‹¤íŒ¨','<div\x20class=\x22item-flex\x22\x20style=\x22font-size:12px;\x22><span>','qty','floor','ë§¤ë„\x20ì‹¤íŒ¨','onclick','677367gjrWoP','toUpperCase','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-flex\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22flex:1;\x20overflow:hidden;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-bottom:2px;\x22><b\x20style=\x22font-size:14px;\x22>','exists','SELL','<div\x20class=\x22item-flex\x22><span>','hidden','var(--zero)','application/json','toFixed','.KS','textContent','json','remove','authView','4438984KrUhvf'];_0x26c5=function(){return _0x2f4bad;};return _0x26c5();}(function(_0x3dd07a,_0x24b936){const _0x156657=_0x90c2,_0x4fc011=_0x3dd07a();while(!![]){try{const _0x26385f=parseInt(_0x156657(0xe0))/0x1*(parseInt(_0x156657(0x125))/0x2)+-parseInt(_0x156657(0x11c))/0x3+parseInt(_0x156657(0x110))/0x4+-parseInt(_0x156657(0xf2))/0x5*(-parseInt(_0x156657(0x141))/0x6)+-parseInt(_0x156657(0xf7))/0x7+parseInt(_0x156657(0xd6))/0x8+parseInt(_0x156657(0x101))/0x9;if(_0x26385f===_0x24b936)break;else _0x4fc011['push'](_0x4fc011['shift']());}catch(_0x2958fd){_0x4fc011['push'](_0x4fc011['shift']());}}}(_0x26c5,0xa2df7));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js';import{getFirestore,doc,getDoc,setDoc,collection,getDocs,query,orderBy,limit}from'https://www.gstatic.com/firebasejs/10.12.5/firebase-firestore.js';import{getAuth,signInWithEmailAndPassword,signOut,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.12.5/firebase-auth.js';const firebaseConfig={'apiKey':'AIzaSyCzjJDKMbzHjs7s7jMnfK64bbHEEmpyZxI','authDomain':_0x55feae(0x117),'projectId':_0x55feae(0xe3),'storageBucket':_0x55feae(0xed),'messagingSenderId':_0x55feae(0x13a),'appId':'1:149071161310:web:79ebd6'},app=initializeApp(firebaseConfig),db=getFirestore(app),auth=getAuth(app),TRADE_URL=_0x55feae(0xda),QUOTE_URL=_0x55feae(0x145),$=_0x22701f=>document['getElementById'](_0x22701f),money=_0x76afcf=>'$'+Number(_0x76afcf||0x0)[_0x55feae(0xec)](undefined,{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2});let curPrice=0x0,curSym='',lastRefresh=0x0;function updateTimer(){const _0x366b52=_0x55feae,_0x189fbd=$('expireMsg');if(!_0x189fbd)return;const _0x14f649=Date['now']()-lastRefresh,_0x444135=lastRefresh===0x0||_0x14f649>=0x36ee80;if($('buyBtn'))$(_0x366b52(0x11a))[_0x366b52(0xcf)]=_0x444135||!curSym;_0x189fbd['textContent']=_0x444135?_0x366b52(0x134):_0x366b52(0xf8)+Math[_0x366b52(0xfe)]((0x36ee80-_0x14f649)/0xea60)+'ë¶„\x20'+Math[_0x366b52(0xfe)]((0x36ee80-_0x14f649)%0xea60/0x3e8)+'ì´ˆ';}setInterval(updateTimer,0x3e8);async function getExchangeRate(){const _0x18236a=_0x55feae;try{const _0x34579e=await fetch(QUOTE_URL+_0x18236a(0xd5)),_0x122137=await _0x34579e['json'](),_0x43c049=_0x122137['ok']&&_0x122137[_0x18236a(0xf6)]?_0x122137['price']:0x5b9;if($(_0x18236a(0xd9)))$(_0x18236a(0xd9))['textContent']=_0x18236a(0x139)+_0x43c049[_0x18236a(0xec)]()+'ì›)';return _0x43c049;}catch(_0x1d8bac){return 0x5b9;}}async function fetchQuote(){const _0xc2cb80=_0x55feae,_0x126d5c=$('qSymbol')[_0xc2cb80(0x111)][_0xc2cb80(0xee)]()[_0xc2cb80(0x102)]();if(!_0x126d5c)return;$(_0xc2cb80(0x130))[_0xc2cb80(0xcf)]=!![];try{const _0x54bb36=await fetch(QUOTE_URL+_0xc2cb80(0x13b)+_0x126d5c),_0x347ae6=await _0x54bb36['json']();if(_0x347ae6['ok']){const _0x27011c=await getExchangeRate();let _0x1b38fb=_0x347ae6[_0xc2cb80(0xf6)];(_0x126d5c[_0xc2cb80(0xf1)](_0xc2cb80(0x10b))||_0x126d5c[_0xc2cb80(0xf1)](_0xc2cb80(0xe7))||_0x347ae6[_0xc2cb80(0xce)]===_0xc2cb80(0x118))&&(_0x1b38fb=_0x1b38fb/_0x27011c);curSym=_0x347ae6[_0xc2cb80(0xd7)],curPrice=_0x1b38fb;if($(_0xc2cb80(0x128)))$(_0xc2cb80(0x128))['style']['display']='flex';if($(_0xc2cb80(0xe2)))$(_0xc2cb80(0xe2))['textContent']=curSym;if($(_0xc2cb80(0x115)))$(_0xc2cb80(0x115))['textContent']=money(curPrice);lastRefresh=Date['now'](),updateTimer();}else alert(_0xc2cb80(0x113));}catch(_0x4f2413){alert(_0xc2cb80(0x123));}finally{$(_0xc2cb80(0x130))['disabled']=![];}}async function callTradeAPI(_0xd9db6f){const _0x558478=_0x55feae,_0x3efa22=auth[_0x558478(0xd2)],_0x270bf4=await _0x3efa22[_0x558478(0x12d)](),_0x16c498=await fetch(TRADE_URL,{'method':'POST','headers':{'Content-Type':_0x558478(0x109),'Authorization':_0x558478(0xd3)+_0x270bf4},'body':JSON[_0x558478(0x143)]({'data':_0xd9db6f})});return await _0x16c498['json']();}async function buyStock(){const _0x1b0a26=_0x55feae,_0x4c04bb=auth[_0x1b0a26(0xd2)];if(!_0x4c04bb||!curSym||curPrice<=0x0)return;const _0x35749a=parseInt(prompt('['+curSym+_0x1b0a26(0x142),'1'));if(isNaN(_0x35749a)||_0x35749a<=0x0)return;try{const _0x575dd5=await callTradeAPI({'type':_0x1b0a26(0xf3),'symbol':curSym,'qty':_0x35749a,'price':curPrice});_0x575dd5[_0x1b0a26(0x11d)]['success']&&(alert(_0x1b0a26(0xd0)),refreshData());}catch(_0xa102cf){alert(_0x1b0a26(0xdb));}}async function sellStock(_0x499834,_0x50647d){const _0x14fa1e=_0x55feae,_0x50a6c0=parseInt(prompt('['+_0x499834+']\x20ë§¤ë„\x20ìˆ˜ëŸ‰:','1'));if(isNaN(_0x50a6c0)||_0x50a6c0<=0x0)return;try{const _0xdd9d6b=await callTradeAPI({'type':_0x14fa1e(0x105),'symbol':_0x499834,'qty':_0x50a6c0,'price':_0x50647d});_0xdd9d6b[_0x14fa1e(0x11d)][_0x14fa1e(0xef)]&&(alert(_0x14fa1e(0xfa)),refreshData());}catch(_0x3f9924){alert(_0x14fa1e(0xff));}}async function refreshData(){const _0x24738a=_0x55feae,_0x8094cc=auth['currentUser'];if(!_0x8094cc)return;try{const _0x1d3acf=doc(db,_0x24738a(0x138),_0x8094cc[_0x24738a(0x133)]);let _0x120496=await getDoc(_0x1d3acf);if(!_0x120496[_0x24738a(0x104)]()){const _0xede59d={'cash':0x11170,'totalAsset':0x11170,'nickname':_0x8094cc[_0x24738a(0x133)][_0x24738a(0x13f)]('@')[0x0],'createdAt':new Date()};await setDoc(_0x1d3acf,_0xede59d),_0x120496=await getDoc(_0x1d3acf),alert(_0x24738a(0xd4));}const _0x3a8b0e=_0x120496[_0x24738a(0x11d)](),_0x5f4968=await getExchangeRate();if($(_0x24738a(0x129)))$(_0x24738a(0x129))['textContent']=_0x8094cc[_0x24738a(0x133)]+'\x20('+(_0x3a8b0e[_0x24738a(0x11f)]||'ì‚¬ìš©ì')+')';if($('cashText'))$('cashText')['textContent']=money(_0x3a8b0e[_0x24738a(0xf5)]);const _0x8d9e67=await getDocs(collection(db,_0x24738a(0x138),_0x8094cc[_0x24738a(0x133)],_0x24738a(0xea)));let _0x1d8220='',_0x1b337f=0x0;const _0x3e94ed=_0x8d9e67[_0x24738a(0x12e)][_0x24738a(0x11b)](async _0x4858be=>{const _0x1795cc=_0x24738a,_0x4e881c=_0x4858be['data']();if(_0x4e881c[_0x1795cc(0xfd)]<=0x0)return null;let _0x307103=0x0;try{const _0x4e2699=await fetch(QUOTE_URL+_0x1795cc(0x13b)+encodeURIComponent(_0x4858be['id'])),_0x3ec3ee=await _0x4e2699[_0x1795cc(0x10d)]();_0x3ec3ee&&_0x3ec3ee['ok']&&(_0x307103=Number(_0x3ec3ee[_0x1795cc(0xf6)]),(_0x4858be['id'][_0x1795cc(0xf1)](_0x1795cc(0x10b))||_0x4858be['id']['includes'](_0x1795cc(0xe7))||_0x3ec3ee['currency']==='KRW')&&(_0x307103=_0x307103/_0x5f4968));}catch(_0x408ec0){console[_0x1795cc(0xe5)](_0x4858be['id']+'\x20ì‹œì„¸\x20í˜¸ì¶œ\x20ì—ëŸ¬:',_0x408ec0);}const _0x150d70=_0x4e881c[_0x1795cc(0xf6)],_0x4b2c56=_0x307103*_0x4e881c[_0x1795cc(0xfd)];let _0x20ced1=0x0,_0x58bf4c='0.00%',_0x568d0b=_0x1795cc(0x108),_0x33d52e='';if(_0x150d70&&_0x307103>0x0){_0x20ced1=(_0x307103-_0x150d70)/_0x150d70*0x64;if(_0x20ced1>0.01)_0x568d0b=_0x1795cc(0xe4),_0x33d52e='+';else _0x20ced1<-0.01&&(_0x568d0b='var(--down)',_0x33d52e='');_0x58bf4c=''+_0x33d52e+_0x20ced1[_0x1795cc(0x10a)](0x2)+'%';}else{if(!_0x150d70)_0x58bf4c=_0x1795cc(0xe9);else _0x307103===0x0&&(_0x58bf4c=_0x1795cc(0xfb));}return{'html':_0x1795cc(0x103)+_0x4858be['id']+'\x20('+_0x4e881c[_0x1795cc(0xfd)]+_0x1795cc(0x12f)+(_0x150d70?money(_0x150d70):_0x1795cc(0x13d))+_0x1795cc(0x122)+money(_0x307103)+_0x1795cc(0x13c)+_0x568d0b+_0x1795cc(0xe8)+_0x58bf4c+_0x1795cc(0xe1)+_0x4858be['id']+_0x1795cc(0x131)+_0x307103+_0x1795cc(0x127)+(_0x307103===0x0?_0x1795cc(0xcf):'')+_0x1795cc(0x116),'value':_0x4b2c56};}),_0x43a530=await Promise[_0x24738a(0xe6)](_0x3e94ed);_0x43a530['forEach'](_0x846e29=>{const _0x29d04d=_0x24738a;_0x846e29&&(_0x1d8220+=_0x846e29[_0x29d04d(0x12a)],_0x1b337f+=_0x846e29[_0x29d04d(0x111)]);});if($(_0x24738a(0xde)))$('portfolioList')['innerHTML']=_0x1d8220||_0x24738a(0xeb);const _0x2e0a5d=(_0x3a8b0e[_0x24738a(0xf5)]||0x0)+_0x1b337f;if($(_0x24738a(0x12c)))$(_0x24738a(0x12c))[_0x24738a(0x10c)]=money(_0x2e0a5d);await updateRankingAndHistory(_0x8094cc[_0x24738a(0x133)]);}catch(_0x154457){console['error'](_0x24738a(0x124),_0x154457);}}async function updateRankingAndHistory(_0xf59b6c){const _0x47ff6b=_0x55feae;try{const _0x43cf8b=await getDocs(query(collection(db,_0x47ff6b(0x138)),orderBy('totalAsset','desc'),limit(0xa)));let _0x2bae06='';_0x43cf8b[_0x47ff6b(0x12e)]['forEach']((_0x47f84f,_0x3f1bb9)=>{const _0x5eb289=_0x47ff6b,_0x5d9c82=_0x47f84f[_0x5eb289(0x11d)]();_0x2bae06+=_0x5eb289(0x106)+(_0x3f1bb9+0x1)+'.\x20'+(_0x5d9c82[_0x5eb289(0x11f)]||_0x47f84f['id']['split']('@')[0x0])+_0x5eb289(0xdd)+money(_0x5d9c82[_0x5eb289(0xf0)])+_0x5eb289(0x144);});if($(_0x47ff6b(0x137)))$('rankingList')['innerHTML']=_0x2bae06;const _0x3d63da=await getDocs(query(collection(db,'users',_0xf59b6c,_0x47ff6b(0x146)),orderBy(_0x47ff6b(0xf4),_0x47ff6b(0xdc)),limit(0xa)));let _0x3a5ca1='';_0x3d63da['docs']['forEach'](_0x1d5b6a=>{const _0x492a19=_0x47ff6b,_0x100dca=_0x1d5b6a[_0x492a19(0x11d)](),_0x13badd=_0x100dca['type']===_0x492a19(0xf3)||_0x100dca[_0x492a19(0x136)]==='ë§¤ìˆ˜'?_0x492a19(0x114):_0x492a19(0x11e);_0x3a5ca1+=_0x492a19(0xfc)+_0x13badd+'\x20'+_0x100dca[_0x492a19(0xd7)]+_0x492a19(0xd8)+_0x100dca[_0x492a19(0xfd)]+'ì£¼\x20('+money(_0x100dca[_0x492a19(0xf6)])+_0x492a19(0x12b);});if($(_0x47ff6b(0x135)))$(_0x47ff6b(0x135))[_0x47ff6b(0x132)]=_0x3a5ca1||_0x47ff6b(0xf9);}catch(_0x470e3e){console[_0x47ff6b(0xe5)](_0x47ff6b(0x112),_0x470e3e);}}const globalRefresh=()=>{const _0x366f58=_0x55feae;lastRefresh=Date[_0x366f58(0x13e)](),refreshData(),updateTimer();};$(_0x55feae(0x126))&&($(_0x55feae(0x126))[_0x55feae(0x100)]=async()=>{const _0x176254=_0x55feae,_0x93f662=$(_0x176254(0x133))[_0x176254(0x111)][_0x176254(0xee)](),_0x486eba=$('pw')['value'][_0x176254(0xee)]();if(!_0x93f662||!_0x486eba)return alert('ì´ë©”ì¼ê³¼\x20ë¹„ë°€ë²ˆí˜¸ë¥¼\x20ì…ë ¥í•˜ì„¸ìš”.');try{await signInWithEmailAndPassword(auth,_0x93f662,_0x486eba);}catch(_0x4eeb7f){alert(_0x176254(0x120));}});if($(_0x55feae(0xd1)))$('logoutBtn')[_0x55feae(0x100)]=()=>signOut(auth);if($(_0x55feae(0x130)))$(_0x55feae(0x130))[_0x55feae(0x100)]=fetchQuote;if($(_0x55feae(0x11a)))$(_0x55feae(0x11a))[_0x55feae(0x100)]=buyStock;function _0x90c2(_0x2ea6eb,_0x502b65){_0x2ea6eb=_0x2ea6eb-0xce;const _0x26c520=_0x26c5();let _0x90c200=_0x26c520[_0x2ea6eb];return _0x90c200;}if($(_0x55feae(0x121)))$('globalRefreshBtn')[_0x55feae(0x100)]=globalRefresh;window['sellStock']=sellStock,onAuthStateChanged(auth,_0x593d98=>{const _0x551b1e=_0x55feae;_0x593d98?($(_0x551b1e(0x10f))[_0x551b1e(0x140)][_0x551b1e(0x119)](_0x551b1e(0x107)),$(_0x551b1e(0xdf))['classList'][_0x551b1e(0x10e)](_0x551b1e(0x107)),globalRefresh()):($(_0x551b1e(0x10f))['classList'][_0x551b1e(0x10e)]('hidden'),$(_0x551b1e(0xdf))['classList'][_0x551b1e(0x119)](_0x551b1e(0x107)));});
